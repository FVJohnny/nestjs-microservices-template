# Simple Makefile for updating shared libraries across all services
.PHONY: update-libs

# Update shared libraries in all services - does everything you need!
update-libs:
	@echo "ðŸš€ Updating all shared libraries and services..."
	@echo ""
	@echo "ðŸ”§ Building nestjs-kafka library..."
	@cd libs/nestjs/kafka && npm ci && npm run build
	@echo "ðŸ”§ Building nestjs-ddd library..."
	@cd libs/nestjs/ddd && npm ci && npm run build
	@echo "ðŸ”§ Building nestjs-types library..."
	@cd libs/nestjs/types && npm ci && npm run build
	@echo "ðŸ”§ Building nestjs-common library..."
	@cd libs/nestjs/common && npm ci && npm run build
	@echo ""
	@echo "ðŸ“¦ Updating service-1..."
	@cd services/service-1 && npm install
	@echo "ðŸ“¦ Updating service-2..."
	@cd services/service-2 && npm install
	@echo ""
	@echo "âœ… All shared libraries updated in all services!"
	@echo "ðŸŽ‰ Ready to go!"
