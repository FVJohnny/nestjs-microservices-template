#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running pre-commit checks: lint and tests"

# Lint all packages (Nx)
npm run -s lint || {
  echo "\n✖ Lint failed. Fix issues before committing.";
  exit 1;
}

# Run unit tests (Nx)
npm run -s test || {
  echo "\n✖ Tests failed. Fix failures before committing.";
  exit 1;
}

echo "✓ All checks passed. Proceeding with commit."
